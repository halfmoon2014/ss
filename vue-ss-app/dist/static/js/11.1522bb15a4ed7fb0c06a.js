webpackJsonp([11],{cOc4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("//Fk"),o=r.n(a),n={name:"PopupRowCol",components:{RowCol:function(){return r.e(12).then(r.bind(null,"GIeR"))},VanPopup:r("Fd2+").p},props:{dataSource:Array,mark:[String,Number],type:String,inExtObj:Object},data:function(){return{options:[],loading:!0,model:!0}},methods:{closeEvn:function(){var e={errcode:0,data:null};this.close(e)},close:function(e){this.model=!1,this.$emit("goback",this.type,this.mark,e)},popupBack:function(e){var t={errcode:0};t.data=e,this.close(e.data)},search:function(){return this.searchPromise(this.waterFallSearchName).then(function(e){return console.log(e),e}),!1},searchPromise:function(e){var t=this;return new o.a(function(r,a){t.$axiosPost.post(APIUTL+"?serviceName=svr-waterfall&action=waterfalls/search/1/100",{name:e}).then(function(e){r(e.data)}).catch(function(e){a(e)})})}},created:function(){var e=this;if(this.dataSource)return this.options=this.dataSource,!1;var t={},r=APIUTL;if("fwsphh"==this.type){if(t.action="factoryWash/sphh",t.sphh=this.inExtObj.sphh,!this.inExtObj.sphh){var a={errcode:100,errmsg:"请输入货号"};return void this.close(a)}t.userid=this.inExtObj.userid,t.tzid=1,r=APIUTL+"?serviceName=svr-external"}this.$axios.get(r,{params:t}).then(function(t){if(0!=t.data.errcode){var r={errcode:100};return r.errmsg=t.data.errmsg,void e.close(r)}var a=[];"fwsphh"==e.type&&(a=t.data.data),e.searchPromise(e.type).then(function(t){if(0==t.errcode)if(1==t.data[0].numberOfElements){for(var r=JSON.parse(t.data[0].content[0].typeSet),o=0;o<a.length;o++){var n={waterFallList:[]};n.data=a[o];for(var s=0;s<r.length;s++){for(var i=[],c=0;c<r[s].cols.length;c++)i.push({span:r[s].cols[c].colSize,text:a[o][r[s].cols[c].wname]});n.waterFallList.push(i)}e.options.push(n)}e.loading=!1}else if(t.data[0].numberOfElements>1){var l={errcode:100,errmsg:"查询多条"};e.close(l)}else{var h={errcode:100,errmsg:"查询没记录"};e.close(h)}else{var u={errcode:100,errmsg:"查询失败"};e.close(u)}})}).catch(function(e){console.log(e)})},watch:{}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("van-popup",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"max-height":"300px"},attrs:{round:"",position:"bottom"},on:{close:e.closeEvn},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[r("RowCol",{attrs:{dataList:e.options},on:{goback:e.popupBack}})],1)},staticRenderFns:[]},i=r("VU/8")(n,s,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=11.1522bb15a4ed7fb0c06a.js.map