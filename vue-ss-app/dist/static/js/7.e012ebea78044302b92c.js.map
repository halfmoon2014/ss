{"version":3,"sources":["webpack:///src/components/MaterielCode/Main.vue","webpack:///./src/components/MaterielCode/Main.vue?8299","webpack:///./src/components/MaterielCode/Main.vue"],"names":["Main","name","components","FieldPickerSingle","__webpack_require__","e","then","bind","PickerSingle","PopupRowCol","VanButton","es","VanTabbar","VanTabbarItem","VanCollapse","VanCollapseItem","VanField","VanPopup","VanCol","VanRow","VanIcon","VanDivider","VanNavBar","VanNoticeBar","VanCheckbox","VanLoading","VanToast","VanSwitch","data","active","saveErr","activeNames","allChoose","search","isml","filterModel","ksrq","jsrq","ghsmc","chdm","mlbh","showCalendarStar","showCalendarEnd","kfbh","myck","shbs","mdata","list","userid","Store","userInfo","cname","errmsg","methods","init","onCalendarStarConfirm","date","this","getFullYear","getMonth","getDate","onCalendarEndConfirm","handleSelect","index","save","allChooseFun","i","length","choose","btx","chdmbs","llyphh","itemClick","item","mlswitch","splice","searchFun","_this","loading","duration","message","forbidClick","searchPromise","r","errcode","tpname","hsbl","slice","clear","fail","catch","_this2","param","promise_default","a","resolve","reject","$axiosPost","post","APIUTL","response","error","_this3","xjchlbidCK","hsblCK","sjchlbidCK","ysCK","push","xjchlbid","mlbhmc2","sjchlbid","ysid","join","shblCK","_hsblCK","_sjchlbidCK","_ysCK","Number","shbl","userssid","username","savePromise","okList","errList","_this4","timeout","mounted","watch","computed","created","llApp","MaterielCode_Main","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-left","margin-right","margin-top","attrs","title","left-text","right-text","_v","wrapable","scrollable","text","style","height","position","model","value","callback","$$v","$set","expression","label","scopedSlots","_u","key","fn","size","on","click","proxy","placeholder","inValue","type","update:inValue","$event","update:in-value","readonly","clickable","min-date","Date","confirm","dataSource","dm","mc","text-align","left-icon","_l","class","span","_s","_e","sydw","cfbl","dw","yplxmc","mllbmc","cwchlbmc","align","yfdw","disabled","change","icon","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.e012ebea78044302b92c.js","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <div style=\"margin-left: 10px; margin-right: 10px; margin-top: 10px\">\r\n      <van-nav-bar\r\n        title=\"物料编码\"\r\n        :left-text=\"cname\"\r\n        :right-text=\"search.isml ? '面料编码' : '辅料编码'\"\r\n      >\r\n      </van-nav-bar>\r\n      <van-notice-bar\r\n        wrapable     \r\n        :scrollable=\"false\"\r\n        :text=\"saveErr\"   \r\n      />\r\n\r\n      <van-popup\r\n        v-model=\"search.filterModel\"\r\n        position=\"top\"\r\n        :style=\"{ height: '75%' }\"\r\n      >\r\n        <van-field name=\"switch\" :label=\"search.isml ? '面料' : '辅料'\">\r\n          <template #input>\r\n            <van-switch v-model=\"search.isml\" @click=\"mlswitch\" size=\"20\" />\r\n          </template>\r\n        </van-field>\r\n\r\n        <FieldPickerSingle\r\n          title=\"开发编号\"\r\n          placeholder=\"请选择\"\r\n          :inValue.sync=\"search.kfbh\"\r\n          type=\"getDevNumList\"\r\n        />\r\n        <van-field\r\n          readonly\r\n          clickable\r\n          name=\"calendar\"\r\n          :value=\"search.ksrq\"\r\n          label=\"开始日期\"\r\n          placeholder=\"点击选择日期\"\r\n          @click=\"search.showCalendarStar = true\"\r\n        />\r\n        <van-calendar\r\n          :min-date=\"new Date(new Date().getFullYear() - 3, 0, 1)\"\r\n          v-model=\"search.showCalendarStar\"\r\n          @confirm=\"onCalendarStarConfirm\"\r\n        />\r\n\r\n        <van-field\r\n          readonly\r\n          clickable\r\n          name=\"calendar\"\r\n          :value=\"search.jsrq\"\r\n          label=\"结束日期\"\r\n          placeholder=\"点击选择日期\"\r\n          @click=\"search.showCalendarEnd = true\"\r\n        />\r\n\r\n        <van-calendar\r\n          v-model=\"search.showCalendarEnd\"\r\n          :min-date=\"new Date(new Date().getFullYear() - 3, 0, 1)\"\r\n          @confirm=\"onCalendarEndConfirm\"\r\n        />\r\n        <van-field\r\n          v-model=\"search.ghsmc\"\r\n          name=\"供应商\"\r\n          label=\"供应商\"\r\n          placeholder=\"供应商\"\r\n        />\r\n        <van-field\r\n          v-model=\"search.chdm\"\r\n          name=\"材料编码\"\r\n          label=\"材料编码\"\r\n          placeholder=\"材料编码\"\r\n        />\r\n        <van-field\r\n          v-model=\"search.mlbh\"\r\n          name=\"材料名称\"\r\n          label=\"材料名称\"\r\n          placeholder=\"材料名称\"\r\n        />\r\n\r\n        <FieldPickerSingle\r\n          title=\"编号状态\"\r\n          placeholder=\"请选择\"\r\n          :inValue.sync=\"search.myck\"\r\n          :dataSource=\"[\r\n            { dm: 0, mc: '全部' },\r\n            { dm: 1, mc: '已编' },\r\n            { dm: 2, mc: '未编' },\r\n          ]\"\r\n        />\r\n\r\n        <van-field name=\"switch\" label=\"只限调样已审\">\r\n          <template #input>\r\n            <van-switch v-model=\"search.shbs\" size=\"20\" />\r\n          </template>\r\n        </van-field>\r\n\r\n        <div style=\"text-align: right; margin-right: 30px\">\r\n          <van-notice-bar left-icon=\"volume-o\" :text=\"errmsg\" />\r\n\r\n          <van-button size=\"small\" @click=\"searchFun\" type=\"primary\"\r\n            >查询</van-button\r\n          >\r\n          <van-button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"search.filterModel = false\"\r\n            >关闭</van-button\r\n          >\r\n        </div>\r\n      </van-popup>\r\n      <div v-for=\"(item, index) in mdata.list\" :key=\"index\" :name=\"index\">\r\n        <div\r\n          class=\"van-doc-block__card\"\r\n          :class=\"[item.choose ? 'van-doc-block__card_choose' : '']\"\r\n        >\r\n          <van-row>\r\n            <van-col span=\"22\">\r\n              <van-row v-if=\"search.isml\">\r\n                <van-col span=\"10\">{{ item.llyphh }}</van-col>\r\n                <van-col span=\"14\">{{ item.mlbhmc2 }}</van-col>\r\n              </van-row>\r\n              <van-row v-if=\"!search.isml\">\r\n                <van-col span=\"10\">{{ item.llyphh }}</van-col>\r\n                <van-col span=\"14\">{{ item.mlbh }}</van-col>\r\n              </van-row>\r\n              <van-row>\r\n                <van-col span=\"24\">\r\n                  {{ item.sydw }}\r\n                </van-col>\r\n              </van-row>\r\n              <van-row v-if=\"search.isml\">\r\n                <van-col span=\"20\">\r\n                  {{ item.cfbl }}\r\n                </van-col>\r\n                <van-col span=\"4\">\r\n                  {{ item.dw }}\r\n                </van-col>\r\n              </van-row>\r\n              <van-row v-if=\"search.isml\">\r\n                <van-col span=\"6\">\r\n                  {{ item.yplxmc }}\r\n                </van-col>\r\n                <van-col span=\"12\">\r\n                  {{ item.mllbmc }}\r\n                </van-col>\r\n                <van-col span=\"6\">\r\n                  {{ item.cwchlbmc }}\r\n                </van-col>\r\n              </van-row>\r\n\r\n              <van-row v-if=\"!search.isml\" type=\"flex\" align=\"center\">\r\n                <van-col span=\"6\">\r\n                  {{ item.dw }}\r\n                </van-col>\r\n                <van-col span=\"6\">\r\n                  {{ item.yfdw }}\r\n                </van-col>\r\n                <van-col span=\"12\">\r\n                  <van-field\r\n                    v-model=\"item.hsbl\"\r\n                    name=\"换算比例\"\r\n                    placeholder=\"换算比例\"\r\n                  />\r\n                </van-col>\r\n              </van-row>\r\n\r\n              <van-row v-if=\"!search.isml\">\r\n                <van-col span=\"24\">\r\n                  {{ item.mllbmc }}\r\n                </van-col>\r\n              </van-row>\r\n            </van-col>\r\n            <van-col span=\"2\">\r\n              <van-checkbox\r\n                :disabled=\"\r\n                  (search.isml && (item.btx != '' ? true : false)) ||\r\n                  (!search.isml &&\r\n                    (item.chdmbs.length > 0 || item.llyphh.length == 0\r\n                      ? true\r\n                      : false))\r\n                \"\r\n                v-model=\"item.choose\"\r\n              ></van-checkbox>\r\n            </van-col>\r\n          </van-row>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <van-tabbar v-model=\"active\" @change=\"handleSelect\">\r\n      <van-tabbar-item name=\"save\" icon=\"certificate\">保存</van-tabbar-item>\r\n      <van-tabbar-item name=\"choose\" icon=\"certificate\">{{\r\n        !allChoose ? \"全选\" : \"取消\"\r\n      }}</van-tabbar-item>\r\n      <van-tabbar-item name=\"search\" icon=\"certificate\">查询</van-tabbar-item>\r\n    </van-tabbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport myStore from \"@/components/Utils/Store\";\r\nimport { Button as VanButton } from \"vant\";\r\nimport { Tabbar as VanTabbar } from \"vant\";\r\nimport { TabbarItem as VanTabbarItem } from \"vant\";\r\nimport { Collapse as VanCollapse } from \"vant\";\r\nimport { CollapseItem as VanCollapseItem } from \"vant\";\r\nimport { Field as VanField } from \"vant\";\r\nimport { Popup as VanPopup } from \"vant\";\r\nimport { Col as VanCol } from \"vant\";\r\nimport { Row as VanRow } from \"vant\";\r\nimport { Icon as VanIcon } from \"vant\";\r\nimport { Divider as VanDivider } from \"vant\";\r\nimport { NavBar as VanNavBar } from \"vant\";\r\nimport { NoticeBar as VanNoticeBar } from \"vant\";\r\nimport { Checkbox as VanCheckbox } from \"vant\";\r\nimport { Loading as VanLoading } from \"vant\";\r\nimport { Toast as VanToast } from \"vant\";\r\nimport { Switch as VanSwitch } from \"vant\";\r\nexport default {\r\n  name: \"MaterielCode\",\r\n  components: {\r\n    FieldPickerSingle: () => import(\"@/components/Utils/FieldPickerSingle\"),\r\n    PickerSingle: () => import(\"@/components/Utils/PickerSingle\"),\r\n    PopupRowCol: () => import(\"@/components/Utils/PopupRowCol\"),\r\n    VanButton,\r\n    VanTabbar,\r\n    VanTabbarItem,\r\n    VanCollapse,\r\n    VanCollapseItem,\r\n    VanField,\r\n    VanPopup,\r\n    VanCol,\r\n    VanRow,\r\n    VanIcon,\r\n    VanDivider,\r\n    VanNavBar,\r\n    VanNoticeBar,\r\n    VanCheckbox,\r\n    VanLoading,\r\n    VanToast,\r\n    VanSwitch,\r\n  },\r\n  data: function () {\r\n    return {\r\n      active: \"\",\r\n      saveErr: \"\",\r\n      activeNames: [0],\r\n\r\n      allChoose: false,\r\n      search: {\r\n        isml: true,\r\n        filterModel: true,\r\n        ksrq: \"\",\r\n        jsrq: \"\",\r\n        ghsmc: \"\",\r\n        chdm: \"\",\r\n        mlbh: \"\",\r\n        showCalendarStar: false,\r\n        showCalendarEnd: false,\r\n        kfbh: \"\",\r\n        myck: 2,\r\n        shbs: false,\r\n      },\r\n      mdata: {\r\n        list: [],\r\n      },\r\n\r\n      userid: myStore.userInfo.userid,\r\n      cname: myStore.userInfo.cname,\r\n      errmsg: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    init() {},\r\n    onCalendarStarConfirm(date) {\r\n      this.search.ksrq = `${date.getFullYear()}-${\r\n        date.getMonth() + 1\r\n      }-${date.getDate()}`;\r\n      this.search.showCalendarStar = false;\r\n    },\r\n    onCalendarEndConfirm(date) {\r\n      this.search.jsrq = `${date.getFullYear()}-${\r\n        date.getMonth() + 1\r\n      }-${date.getDate()}`;\r\n      this.search.showCalendarEnd = false;\r\n    },\r\n    handleSelect(index) {\r\n      if (index == \"save\") {\r\n        this.save();\r\n      }\r\n      if (index == \"choose\") {\r\n        this.allChooseFun();\r\n        this.active = \"\";\r\n      }\r\n      if (index == \"search\") {\r\n        this.search.filterModel = true;\r\n        this.active = \"\";\r\n      }\r\n    },\r\n    allChooseFun() {\r\n      if (this.allChoose) {\r\n        this.allChoose = false;\r\n        for (var i = 0; i < this.mdata.list.length; i++) {\r\n          this.mdata.list[i].choose = false;\r\n        }\r\n      } else {\r\n        this.allChoose = true;\r\n        for (var i = 0; i < this.mdata.list.length; i++) {\r\n          if (this.search.isml) {\r\n            if (this.mdata.list[i].btx != \"\") {\r\n            } else {\r\n              this.mdata.list[i].choose = true;\r\n            }\r\n          } else {\r\n            //辅料\r\n            if (\r\n              this.mdata.list[i].chdmbs.length > 0 ||\r\n              this.mdata.list[i].llyphh.length == 0\r\n            ) {\r\n            } else {\r\n              this.mdata.list[i].choose = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    itemClick(item) {\r\n      item.choose = !item.choose;\r\n    },\r\n    mlswitch() {\r\n      this.mdata.list.splice(0, this.mdata.list.length);\r\n    },\r\n    searchFun() {\r\n      if (\r\n        this.search.ksrq.length == 0 &&\r\n        this.search.jsrq.length == 0 &&\r\n        this.search.chdm.length == 0 &&\r\n        this.search.ghsmc.length == 0 &&\r\n        this.search.kfbh.length == 0 &&\r\n        this.search.mlbh.length == 0\r\n      ) {\r\n        this.errmsg = \"请选择条件\";\r\n        return false;\r\n      }\r\n      this.search.filterModel = false;\r\n\r\n      VanToast.loading({\r\n        duration: 0,\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n      });\r\n\r\n      this.allChoose = false;\r\n      this.searchPromise()\r\n        .then((r) => {\r\n          if (r.errcode == 0) {\r\n            let data = r.data[0];\r\n            for (var i = 0; i < data.length; i++) {\r\n              if (data[i].btx == null) {\r\n                data[i].btx = \"\";\r\n              }\r\n              if (data[i].tpname == null) {\r\n                data[i].tpname = \"\";\r\n              }\r\n              if (data[i].hsbl == null || data[i].hsbl == 0) {\r\n                data[i].hsbl = \"\";\r\n              }\r\n              data[i].choose = false;\r\n            }\r\n            this.mdata.list = data.slice(0, 100);\r\n            VanToast.clear();\r\n          } else {\r\n            VanToast.fail(r.errmsg);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          VanToast.fail(e);\r\n        });\r\n    },\r\n\r\n    searchPromise() {\r\n      let param = {};\r\n      param.ksrq = this.search.ksrq;\r\n      param.jsrq = this.search.jsrq;\r\n      param.mlbh = this.search.mlbh;\r\n      param.chdm = this.search.chdm;\r\n      param.myck = this.search.myck;\r\n      param.shbs = this.search.shbs ? 1 : 0;\r\n      param.ghsmc = this.search.ghsmc;\r\n      param.kfbh = this.search.kfbh;\r\n      param.isml = this.search.isml;\r\n\r\n      return new Promise((resolve, reject) => {\r\n        this.$axiosPost\r\n          .post(\r\n            APIUTL + \"?serviceName=svr-financia-management&action=MaterielCode\",\r\n            param\r\n          )\r\n          .then((response) => {\r\n            resolve(response.data);\r\n          })\r\n          .catch((error) => {\r\n            reject(error);\r\n          });\r\n      });\r\n    },\r\n\r\n    save() {\r\n      let param = {};\r\n      param.data = [];\r\n      this.saveErr = \"\";\r\n      if (this.search.isml) {\r\n        let xjchlbidCK = [];\r\n        let hsblCK = [];\r\n        let sjchlbidCK = [];\r\n        let ysCK = [];\r\n\r\n        for (var i = 0; i < this.mdata.list.length; i++) {\r\n          if (this.mdata.list[i].choose == false) continue;\r\n          param.data.push(this.mdata.list[i]);\r\n          if (!this.mdata.list[i].xjchlbid) {\r\n            xjchlbidCK.push(this.mdata.list[i].mlbhmc2);\r\n          }\r\n\r\n          if (!this.mdata.list[i].hsbl) {\r\n            hsblCK.push(this.mdata.list[i].mlbhmc2);\r\n          }\r\n          if (!this.mdata.list[i].sjchlbid) {\r\n            sjchlbidCK.push(this.mdata.list[i].mlbhmc2);\r\n          }\r\n\r\n          if (!this.mdata.list[i].ysid) {\r\n            ysCK.push(this.mdata.list[i].mlbhmc2);\r\n          }\r\n        }\r\n        if (\r\n          xjchlbidCK.length > 0 ||\r\n          hsblCK.length > 0 ||\r\n          sjchlbidCK.length > 0 ||\r\n          ysCK.length > 0\r\n        ) {\r\n          this.active = \"\";\r\n      \r\n          if (xjchlbidCK.length > 0)\r\n            this.saveErr += \"大小类有问题:\" + xjchlbidCK.join(\",\");\r\n          if (hsblCK.length > 0)\r\n            this.saveErr += \"换算比例有问题:\" + hsblCK.join(\",\");\r\n          if (sjchlbidCK.length > 0)\r\n            this.saveErr += \"大类有问题:\" + sjchlbidCK.join(\",\");\r\n          if (ysCK.length > 0)\r\n            this.saveErr += \"颜色有问题:\" + ysCK.join(\",\");\r\n          return false;\r\n        }\r\n      } else {\r\n       \r\n        let shblCK = [];\r\n        let hsblCK = [];\r\n        let sjchlbidCK = [];\r\n        let ysCK = [];\r\n        for (var i = 0; i < this.mdata.list.length; i++) {\r\n          if (this.mdata.list[i].choose == false) continue;\r\n           param.data.push(this.mdata.list[i]);\r\n          if (Number(this.mdata.list[i].shbl)!=0) {             \r\n            shblCK.push(this.mdata.list[i].mlbh);\r\n          }\r\n          if (!this.mdata.list[i].hsbl) {\r\n           \r\n            hsblCK.push(this.mdata.list[i].mlbh);\r\n          }\r\n\r\n          if (Number(this.mdata.list[i].sjchlbid) == 0) {\r\n            sjchlbidCK.push(this.mdata.list[i].mlbh);\r\n          }\r\n          if (!this.mdata.list[i].ysid) {\r\n            ysCK.push(this.mdata.list[i].mlbh);\r\n          }\r\n        }\r\n\r\n        if (\r\n          shblCK.length > 0 ||\r\n          hsblCK.length > 0 ||\r\n          sjchlbidCK.length > 0 ||\r\n          ysCK.length > 0\r\n        ) {\r\n          this.active = \"\";\r\n          \r\n          if (shblCK.length > 0)\r\n            this.saveErr += \"损耗比例有问题:\" + shblCK.join(\",\");\r\n          if (hsblCK.length > 0)\r\n            this.saveErr += \"换算比例有问题:\" + hsblCK.join(\",\");\r\n          if (sjchlbidCK.length > 0)\r\n            this.saveErr += \"大类有问题:\" + sjchlbidCK.join(\",\");\r\n          if (ysCK.length > 0)\r\n            this.saveErr += \"颜色有问题:\" + ysCK.join(\",\");         \r\n          return false;\r\n        }\r\n      }\r\n      param.userssid = 1;\r\n      param.username = myStore.userInfo.cname;\r\n      param.userid = this.userid;\r\n      param.isml = this.search.isml;\r\n      VanToast.loading({\r\n        duration: 0,\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n      });\r\n      this.savePromise(param)\r\n        .then((r) => {\r\n          if (r.errcode == 0) {\r\n            //this.$message(\"保存成功\");\r\n            //VanToast.clear();\r\n            let okList=[];\r\n            let errList=[];\r\n            for(var i=0;i<r.data.length;i++){\r\n              let item=r.data[i];\r\n              if(item.errcode==0){\r\n                okList.push(item.data.llyphh);\r\n              }else{\r\n                errList.push(item.data.llyphh);\r\n              }\r\n            }\r\n            this.saveErr = (okList.length>0?\"成功\"+okList.join(\",\"):\"\")+(errList.length>0?\"失败:\"+errList.join(\",\"):\"\");\r\n            VanToast.clear();\r\n            this.searchFun();\r\n          } else {\r\n            VanToast.fail(r.errmsg);\r\n          }\r\n          this.active = \"\";\r\n        })\r\n        .catch((e) => {\r\n          this.active = \"\";\r\n          VanToast.fail(e);\r\n        });\r\n    },\r\n\r\n    savePromise(param) {\r\n      return new Promise((resolve, reject) => {\r\n        this.$axiosPost\r\n          .post(\r\n            APIUTL +\r\n              \"?serviceName=svr-financia-management&action=MaterielCode/save\",\r\n            param,\r\n            {timeout: 600*1000}\r\n          )\r\n          .then((response) => {\r\n            resolve(response.data);\r\n          })\r\n          .catch((error) => {\r\n            reject(error);\r\n          });\r\n      });\r\n    },\r\n  },\r\n  mounted() {},\r\n  watch: {},\r\n  computed: {},\r\n  created() {\r\n    llApp.init();\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  height: calc(100% - 50px);\r\n  overflow-y: auto;\r\n}\r\n.van-doc-block__card {\r\n  border-top-left-radius: 4px;\r\n  border-top-right-radius: 4px;\r\n  border-bottom-left-radius: 4px;\r\n  border-bottom-right-radius: 4px;\r\n  border: 1px solid #ebeef5;\r\n  padding: 20px;\r\n  box-shadow: 0px 0px 10px 1px rgb(210 202 202 / 50%);\r\n  font-size: 13px;\r\n}\r\n.van-doc-block__card_choose {\r\n  border-color: #21c354;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/MaterielCode/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"10px\",\"margin-top\":\"10px\"}},[_c('van-nav-bar',{attrs:{\"title\":\"物料编码\",\"left-text\":_vm.cname,\"right-text\":_vm.search.isml ? '面料编码' : '辅料编码'}}),_vm._v(\" \"),_c('van-notice-bar',{attrs:{\"wrapable\":\"\",\"scrollable\":false,\"text\":_vm.saveErr}}),_vm._v(\" \"),_c('van-popup',{style:({ height: '75%' }),attrs:{\"position\":\"top\"},model:{value:(_vm.search.filterModel),callback:function ($$v) {_vm.$set(_vm.search, \"filterModel\", $$v)},expression:\"search.filterModel\"}},[_c('van-field',{attrs:{\"name\":\"switch\",\"label\":_vm.search.isml ? '面料' : '辅料'},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-switch',{attrs:{\"size\":\"20\"},on:{\"click\":_vm.mlswitch},model:{value:(_vm.search.isml),callback:function ($$v) {_vm.$set(_vm.search, \"isml\", $$v)},expression:\"search.isml\"}})]},proxy:true}])}),_vm._v(\" \"),_c('FieldPickerSingle',{attrs:{\"title\":\"开发编号\",\"placeholder\":\"请选择\",\"inValue\":_vm.search.kfbh,\"type\":\"getDevNumList\"},on:{\"update:inValue\":function($event){return _vm.$set(_vm.search, \"kfbh\", $event)},\"update:in-value\":function($event){return _vm.$set(_vm.search, \"kfbh\", $event)}}}),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"calendar\",\"value\":_vm.search.ksrq,\"label\":\"开始日期\",\"placeholder\":\"点击选择日期\"},on:{\"click\":function($event){_vm.search.showCalendarStar = true}}}),_vm._v(\" \"),_c('van-calendar',{attrs:{\"min-date\":new Date(new Date().getFullYear() - 3, 0, 1)},on:{\"confirm\":_vm.onCalendarStarConfirm},model:{value:(_vm.search.showCalendarStar),callback:function ($$v) {_vm.$set(_vm.search, \"showCalendarStar\", $$v)},expression:\"search.showCalendarStar\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"calendar\",\"value\":_vm.search.jsrq,\"label\":\"结束日期\",\"placeholder\":\"点击选择日期\"},on:{\"click\":function($event){_vm.search.showCalendarEnd = true}}}),_vm._v(\" \"),_c('van-calendar',{attrs:{\"min-date\":new Date(new Date().getFullYear() - 3, 0, 1)},on:{\"confirm\":_vm.onCalendarEndConfirm},model:{value:(_vm.search.showCalendarEnd),callback:function ($$v) {_vm.$set(_vm.search, \"showCalendarEnd\", $$v)},expression:\"search.showCalendarEnd\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"供应商\",\"label\":\"供应商\",\"placeholder\":\"供应商\"},model:{value:(_vm.search.ghsmc),callback:function ($$v) {_vm.$set(_vm.search, \"ghsmc\", $$v)},expression:\"search.ghsmc\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"材料编码\",\"label\":\"材料编码\",\"placeholder\":\"材料编码\"},model:{value:(_vm.search.chdm),callback:function ($$v) {_vm.$set(_vm.search, \"chdm\", $$v)},expression:\"search.chdm\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"材料名称\",\"label\":\"材料名称\",\"placeholder\":\"材料名称\"},model:{value:(_vm.search.mlbh),callback:function ($$v) {_vm.$set(_vm.search, \"mlbh\", $$v)},expression:\"search.mlbh\"}}),_vm._v(\" \"),_c('FieldPickerSingle',{attrs:{\"title\":\"编号状态\",\"placeholder\":\"请选择\",\"inValue\":_vm.search.myck,\"dataSource\":[\n          { dm: 0, mc: '全部' },\n          { dm: 1, mc: '已编' },\n          { dm: 2, mc: '未编' } ]},on:{\"update:inValue\":function($event){return _vm.$set(_vm.search, \"myck\", $event)},\"update:in-value\":function($event){return _vm.$set(_vm.search, \"myck\", $event)}}}),_vm._v(\" \"),_c('van-field',{attrs:{\"name\":\"switch\",\"label\":\"只限调样已审\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-switch',{attrs:{\"size\":\"20\"},model:{value:(_vm.search.shbs),callback:function ($$v) {_vm.$set(_vm.search, \"shbs\", $$v)},expression:\"search.shbs\"}})]},proxy:true}])}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-right\":\"30px\"}},[_c('van-notice-bar',{attrs:{\"left-icon\":\"volume-o\",\"text\":_vm.errmsg}}),_vm._v(\" \"),_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.searchFun}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.search.filterModel = false}}},[_vm._v(\"关闭\")])],1)],1),_vm._v(\" \"),_vm._l((_vm.mdata.list),function(item,index){return _c('div',{key:index,attrs:{\"name\":index}},[_c('div',{staticClass:\"van-doc-block__card\",class:[item.choose ? 'van-doc-block__card_choose' : '']},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"22\"}},[(_vm.search.isml)?_c('van-row',[_c('van-col',{attrs:{\"span\":\"10\"}},[_vm._v(_vm._s(item.llyphh))]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"14\"}},[_vm._v(_vm._s(item.mlbhmc2))])],1):_vm._e(),_vm._v(\" \"),(!_vm.search.isml)?_c('van-row',[_c('van-col',{attrs:{\"span\":\"10\"}},[_vm._v(_vm._s(item.llyphh))]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"14\"}},[_vm._v(_vm._s(item.mlbh))])],1):_vm._e(),_vm._v(\" \"),_c('van-row',[_c('van-col',{attrs:{\"span\":\"24\"}},[_vm._v(\"\\n                \"+_vm._s(item.sydw)+\"\\n              \")])],1),_vm._v(\" \"),(_vm.search.isml)?_c('van-row',[_c('van-col',{attrs:{\"span\":\"20\"}},[_vm._v(\"\\n                \"+_vm._s(item.cfbl)+\"\\n              \")]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"4\"}},[_vm._v(\"\\n                \"+_vm._s(item.dw)+\"\\n              \")])],1):_vm._e(),_vm._v(\" \"),(_vm.search.isml)?_c('van-row',[_c('van-col',{attrs:{\"span\":\"6\"}},[_vm._v(\"\\n                \"+_vm._s(item.yplxmc)+\"\\n              \")]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_vm._v(\"\\n                \"+_vm._s(item.mllbmc)+\"\\n              \")]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"6\"}},[_vm._v(\"\\n                \"+_vm._s(item.cwchlbmc)+\"\\n              \")])],1):_vm._e(),_vm._v(\" \"),(!_vm.search.isml)?_c('van-row',{attrs:{\"type\":\"flex\",\"align\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"6\"}},[_vm._v(\"\\n                \"+_vm._s(item.dw)+\"\\n              \")]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"6\"}},[_vm._v(\"\\n                \"+_vm._s(item.yfdw)+\"\\n              \")]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('van-field',{attrs:{\"name\":\"换算比例\",\"placeholder\":\"换算比例\"},model:{value:(item.hsbl),callback:function ($$v) {_vm.$set(item, \"hsbl\", $$v)},expression:\"item.hsbl\"}})],1)],1):_vm._e(),_vm._v(\" \"),(!_vm.search.isml)?_c('van-row',[_c('van-col',{attrs:{\"span\":\"24\"}},[_vm._v(\"\\n                \"+_vm._s(item.mllbmc)+\"\\n              \")])],1):_vm._e()],1),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"2\"}},[_c('van-checkbox',{attrs:{\"disabled\":(_vm.search.isml && (item.btx != '' ? true : false)) ||\n                (!_vm.search.isml &&\n                  (item.chdmbs.length > 0 || item.llyphh.length == 0\n                    ? true\n                    : false))},model:{value:(item.choose),callback:function ($$v) {_vm.$set(item, \"choose\", $$v)},expression:\"item.choose\"}})],1)],1)],1)])})],2),_vm._v(\" \"),_c('van-tabbar',{on:{\"change\":_vm.handleSelect},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{attrs:{\"name\":\"save\",\"icon\":\"certificate\"}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"name\":\"choose\",\"icon\":\"certificate\"}},[_vm._v(_vm._s(!_vm.allChoose ? \"全选\" : \"取消\"))]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"name\":\"search\",\"icon\":\"certificate\"}},[_vm._v(\"查询\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10737352\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MaterielCode/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10737352\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10737352\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-10737352\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MaterielCode/Main.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}