{"version":3,"sources":["webpack:///src/components/Utils/PickerSingle.vue","webpack:///./src/components/Utils/PickerSingle.vue?8238","webpack:///./src/components/Utils/PickerSingle.vue"],"names":["PickerSingle","name","components","VanPicker","props","mark","String","Number","title","type","inValue","inExtObj","Object","dataSource","Array","data","defaultIndex","options","loading","methods","onConfirm","value","index","this","$emit","onChange","picker","onCancel","created","_this","i","length","push","dm","params","action","console","log","$axios","get","APIUTL","then","response","errcode","ryid","mc","xm","fgid","j","children","jb3","z","label","$message","showClose","message","errmsg","catch","error","watch","newValue","Utils_PickerSingle","render","_h","$createElement","_self","_c","attrs","show-toolbar","columns","value-key","default-index","on","confirm","cancel","change","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.e8ce7320f6046d79c4b4.js","sourcesContent":["<template>\r\n  <van-picker\r\n    :title=\"title\"\r\n    show-toolbar\r\n    :columns=\"options\"\r\n    value-key=\"mc\"\r\n    :default-index=\"defaultIndex\"\r\n    :loading=\"loading\"\r\n    @confirm=\"onConfirm\"\r\n    @cancel=\"onCancel\"\r\n    @change=\"onChange\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { Picker as VanPicker } from \"vant\";\r\nexport default {\r\n  name: \"PickerSingle\",\r\n  components: {\r\n    VanPicker,\r\n  },\r\n  props: {\r\n    mark: [String, Number], //外部调用的标识,回调是统一的,所以需要一个标识是哪个父对象调用的\r\n    title: String, //标题\r\n    type: String, //指定内容\r\n    inValue: [String, Number], //初始值,有可能是数字或者是字串\r\n    // inText: String, //初始名称,用来显示的\r\n    inExtObj: Object, //附加属性,是一个对象,在发送请求的时候会带上这部份参数\r\n    dataSource: Array, //数据源\r\n  },\r\n  data: function () {\r\n    return {\r\n      // titleTemp:this.title ||\"\",//标题\r\n      // typeTemp:this.type || \"\",//取什么数据,分类用\r\n      defaultIndex: 0, //单列选择时，默认选中项的索引\r\n      options: [], //内容对应的值,因为显示的内容只允许是一个字符串数组,其它信息保存在这里\r\n      // columns: [], //显示的内容 对象数组，配置每一列显示的数据\r\n      loading: true,\r\n    };\r\n  },\r\n  methods: {\r\n    onConfirm(value, index) {\r\n      //点击完成按钮时触发\r\n      //  console.log(value,index)\r\n      //this.$emit(\"update:model\", false);//关闭组件\r\n      // this.$emit(\"update:inValue\", value.dm);//更新值\r\n      // this.$emit(\"update:inText\", value.mc);//更新显示的内容\r\n      // console.log(this.options[index].dm,this.options[index].mc)\r\n      if(value)\r\n        this.$emit(\"goback\", this.type, this.mark, value,this.options); //回调父函数\r\n      else   this.$emit(\"update:model\", false);\r\n      // console.log(value,index)\r\n    },\r\n    onChange(picker, value, index) {\r\n      //选项改变时触发\r\n    },\r\n    onCancel() {\r\n      //点击取消按钮时触发\r\n      this.$emit(\"update:model\", false);\r\n    },\r\n  },\r\n  created: function () {\r\n    if (this.dataSource) {\r\n      //存在外部指定的数据源,格式要求一定是dm,mc+其它,,, dm是主键,mc是用来显示的,\r\n      //查找默认值 数据默认格式dm ,mc\r\n      for (var i = 0; i < this.dataSource.length; i++) {\r\n        // this.columns.push(this.dataSource[i].mc);\r\n        this.options.push(this.dataSource[i]);\r\n        if (this.dataSource[i].dm == this.inValue) {\r\n          this.defaultIndex = i;\r\n        }\r\n      }\r\n      this.loading = false;\r\n      return false;\r\n    }\r\n    var params = {};\r\n    params.action = this.type;\r\n    // //成衣风格\r\n    // if (this.type == \"getDesignStyleList\") params.action = \"getDesignStyleList\";\r\n    // //调样中的颜色情况\r\n    // if (this.type == \"getMaterialApplyTypes\")\r\n    //   params.action = \"getMaterialApplyTypes\";\r\n\r\n    // //调样中的颜色情况\r\n    // if (this.type == \"getMaterialApplyBm\") params.action = \"getMaterialApplyBm\";\r\n\r\n    // //项目经理\r\n    // if (this.type == \"getMaterialApplyXmjl\")\r\n    //   params.action = \"getMaterialApplyXmjl\";\r\n\r\n    // //开发编号\r\n    // if (this.type == \"getDevNumList\") params.action = \"getDevNumList\";\r\n\r\n    // //调样中的采购类别\r\n    // if (this.type == \"getMaterialApplyDjlb\")\r\n    //   params.action = \"getMaterialApplyDjlb\";\r\n    // //商品类别\r\n    // if (this.type == \"getClothTypes\") {\r\n    //   params.action = \"getClothTypes\";\r\n    // }\r\n\r\n    if (this.inExtObj) {\r\n      for (var i in this.inExtObj) {\r\n        params[i] = this.inExtObj[i];\r\n      }\r\n    }\r\n\r\n    if (params.action == \"\") {\r\n      console.log(\"type is empty\");\r\n      return false;\r\n    }\r\n    this.loading = true;\r\n    this.$axios\r\n      .get(APIUTL, {\r\n        params: params,\r\n      })\r\n      .then((response) => {\r\n        if (response.data.errcode != 0) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: response.data.errmsg,\r\n            type: \"error\",\r\n          });\r\n          return;\r\n        }\r\n        var data = [];\r\n        if (\r\n          this.type == \"getDesignStyleList\" ||\r\n          this.type == \"getMaterialApplyTypes\" ||\r\n          this.type == \"getMaterialApplyDjlb\" ||\r\n          this.type == \"getMaterialApplyBm\"\r\n        )\r\n          data = response.data.data[0];\r\n        else if (this.type == \"getDevNumList\") data = response.data.data;\r\n        else if (this.type == \"getMaterialApplyXmjl\") {\r\n          //项目经理\r\n          for (var i = 0; i < response.data.data[0].length; i++) {\r\n            data.push({\r\n              dm: response.data.data[0][i].ryid,\r\n              mc: response.data.data[0][i].xm,\r\n              fgid: response.data.data[0][i].fgid,\r\n            });\r\n          }\r\n        } else if (this.type == \"getClothTypes\") {\r\n          for (var i = 0; i < response.data.data.length; i++) {\r\n            if (response.data.data[i].value == 1201) {\r\n              //利郎运动系列 不要\r\n            } else {\r\n              for (var j = 0; j < response.data.data[i].children.length; j++) {\r\n                //jb2\r\n                var jb3 = response.data.data[i].children[j].children;\r\n\r\n                for (var z = 0; z < jb3.length; z++) {\r\n                  //加空格转成字符串\r\n                  data.push({ dm: jb3[z].value, mc: jb3[z].label });\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        //查找默认值 数据默认格式dm ,mc\r\n        for (var i = 0; i < data.length; i++) {\r\n          // this.columns.push(data[i].mc);\r\n          this.options.push(data[i]);\r\n          if (data[i].dm == this.inValue) {\r\n            this.defaultIndex = i;\r\n          }\r\n        }\r\n       \r\n        this.loading = false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.loading = false;\r\n      });\r\n  },\r\n  watch: {\r\n    inValue(newValue) {\r\n      //如果父组件有直接修改值,那么默认值不会变,要手动更改\r\n      for (var i = 0; i < this.options.length; i++) {\r\n        if (this.options[i].dm == this.inValue) {\r\n          this.defaultIndex = i;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n \n\n\n// WEBPACK FOOTER //\n// src/components/Utils/PickerSingle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-picker',{attrs:{\"title\":_vm.title,\"show-toolbar\":\"\",\"columns\":_vm.options,\"value-key\":\"mc\",\"default-index\":_vm.defaultIndex,\"loading\":_vm.loading},on:{\"confirm\":_vm.onConfirm,\"cancel\":_vm.onCancel,\"change\":_vm.onChange}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5994bec4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Utils/PickerSingle.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PickerSingle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PickerSingle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5994bec4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PickerSingle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Utils/PickerSingle.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}