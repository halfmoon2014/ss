webpackJsonp([0],{"1bf3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"PickerSingle",components:{VanPicker:a("Fd2+").o},props:{mark:[String,Number],title:String,type:String,inValue:[String,Number],inExtObj:Object,dataSource:Array},data:function(){return{defaultIndex:0,options:[],loading:!0}},methods:{onConfirm:function(t,e){t?this.$emit("goback",this.type,this.mark,t,this.options):this.$emit("update:model",!1)},onChange:function(t,e,a){},onCancel:function(){this.$emit("update:model",!1)}},created:function(){var t=this;if(this.dataSource){for(var e=0;e<this.dataSource.length;e++)this.options.push(this.dataSource[e]),this.dataSource[e].dm==this.inValue&&(this.defaultIndex=e);return this.loading=!1,!1}var a={};if(a.action=this.type,this.inExtObj)for(var e in this.inExtObj)a[e]=this.inExtObj[e];if(""==a.action)return console.log("type is empty"),!1;this.loading=!0,this.$axios.get(APIUTL,{params:a}).then(function(e){if(0==e.data.errcode){var a=[];if("getDesignStyleList"==t.type||"getMaterialApplyTypes"==t.type||"getMaterialApplyDjlb"==t.type||"getMaterialApplyBm"==t.type)a=e.data.data[0];else if("getDevNumList"==t.type)a=e.data.data;else if("getMaterialApplyXmjl"==t.type)for(var i=0;i<e.data.data[0].length;i++)a.push({dm:e.data.data[0][i].ryid,mc:e.data.data[0][i].xm,fgid:e.data.data[0][i].fgid});else if("getClothTypes"==t.type)for(i=0;i<e.data.data.length;i++)if(1201==e.data.data[i].value);else for(var n=0;n<e.data.data[i].children.length;n++)for(var o=e.data.data[i].children[n].children,s=0;s<o.length;s++)a.push({dm:o[s].value,mc:o[s].label});for(i=0;i<a.length;i++)t.options.push(a[i]),a[i].dm==t.inValue&&(t.defaultIndex=i);t.loading=!1}else t.$message({showClose:!0,message:e.data.errmsg,type:"error"})}).catch(function(e){console.log(e),t.loading=!1})},watch:{inValue:function(t){for(var e=0;e<this.options.length;e++)this.options[e].dm==this.inValue&&(this.defaultIndex=e)}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("van-picker",{attrs:{title:this.title,"show-toolbar":"",columns:this.options,"value-key":"mc","default-index":this.defaultIndex,loading:this.loading},on:{confirm:this.onConfirm,cancel:this.onCancel,change:this.onChange}})},staticRenderFns:[]},o=a("VU/8")(i,n,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=0.e8ce7320f6046d79c4b4.js.map